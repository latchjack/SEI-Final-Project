(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,a,t){e.exports=t(72)},43:function(e,a,t){},45:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(33),c=t.n(s),l=(t(43),t(2)),i=t(3),o=t(6),m=t(5),u=t(7),h=(t(44),t(45),t(11)),d=t(18),p=t(34),v=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayLoad",value:function(){var e=this.getToken();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayLoad();return!!e&&Math.round(Date.now()/1e3)<e.exp}},{key:"getUser",value:function(){var e=this.getPayLoad().sub;return e||!1}}]),e}(),b=function(e){var a=e.component,t=Object(p.a)(e,["component"]);return v.isAuthenticated()?r.a.createElement(d.b,Object.assign({},t,{component:a})):(v.logout(),r.a.createElement(d.a,{to:"/login"}))},f=t(1),E=t.n(f),N=t(9),g=t(8),w=t.n(g),O=function(e){var a=e.title,t=e.id;e.owner;return r.a.createElement("div",{key:t,className:"column easier is-two-fifths is-offset-1 "},r.a.createElement("div",{className:"box article-card"},r.a.createElement(h.b,{to:"/articles/".concat(t)},r.a.createElement("h1",{className:"article-card-title title is-4"},a)),r.a.createElement("hr",{className:"hori"}),r.a.createElement("div",{className:"is-offset-3"},r.a.createElement(h.b,{to:"/articles/".concat(t,"/edit/")},r.a.createElement("button",{className:"article-card-button"},"Edit Article")))))},y=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={articles:[]},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("api/articles/");case 3:a=e.sent,this.setState({articles:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.articles.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Articles"))),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-multiline is-2"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.articles.map((function(e){return r.a.createElement(O,Object.assign({key:e.id},e))}))))))):null}}]),a}(r.a.Component),k=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={navbarOpen:!1},t.toggleNavbar=function(){t.setState({navbarOpen:!t.state.navbarOpen})},t.handleLogout=function(){v.logout(),t.props.history.push("/")},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({navbarOpen:!1})}},{key:"render",value:function(){var e=this.state.navbarOpen;return r.a.createElement("nav",{className:"navbar has-background-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(h.b,{className:"navbar-item",to:"/"},"Home "),r.a.createElement("span",{className:"navbar-burger has-background-dark ".concat(e?"is-active":""),onClick:this.toggleNavbar},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:"navbar-menu ".concat(e?"is-active":"")},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(h.b,{className:"navbar-item",to:"/about"},"About Us"),v.isAuthenticated()&&r.a.createElement(h.b,{className:"navbar-item",to:"/articles"},"Articles"),v.isAuthenticated()&&r.a.createElement(h.b,{className:"navbar-item",to:"/articles/new"},"New Article"),!v.isAuthenticated()&&r.a.createElement(h.b,{className:"navbar-item",to:"/register"},"Register"),!v.isAuthenticated()&&r.a.createElement(h.b,{className:"navbar-item",to:"/login"},"Login"),v.isAuthenticated()&&r.a.createElement("span",{onClick:this.handleLogout,className:"navbar-item"},"Logout")))))}}]),a}(r.a.Component),j=Object(d.g)(k),x=function(){return r.a.createElement("section",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title is-1 has-text-centered",id:"Hero_txt"}," PENSIVE "))))},C=t(20),S=t.n(C),A=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container has-text-centered title is-1"},r.a.createElement("h1",null,"Pensive")),r.a.createElement("div",{className:"box",id:"aboutBox"},r.a.createElement("h1",{className:" title is-3"},"ABOUT US"),r.a.createElement("hr",null),r.a.createElement("div",{className:"content"},r.a.createElement(S.a,{trigger:"Our Mission  +",className:"dropDown"},r.a.createElement("p",{className:"FAQtxt"},"Our mission is to create a space where developers are able to ",r.a.createElement("span",{className:"emph"},"freely spread knowledge and concepts")," with anyone interested in all fields of web and software development. ")),r.a.createElement("hr",null),r.a.createElement(S.a,{trigger:"Our Story  +",className:"dropDown"},r.a.createElement("p",{className:"FAQtxt"},"Latch and Rory met whilst studying at General Assembly. They both shared a passion for development and would often share great online sources for tutorials, lectures and articles with each other. After some time they realised there was a lack of places where developers could connect and collectively share knowledge. It was at that point that Pensive was born.")),r.a.createElement("hr",null),r.a.createElement(S.a,{trigger:"Time to Grow  +",className:"dropDown"},r.a.createElement("p",null,"Pensive slowly started to gain the attention of developers all around the world for its great content. The site is now one of the most popular sites for developers to publish articles and share their opinions on the latest technologies.")),r.a.createElement("hr",null),r.a.createElement(S.a,{trigger:"What We're About +",className:"dropDown"},r.a.createElement("p",{className:"FAQtxt"},"Pensive is available to anyone who wants to learn web/software development. Welcome!"))))))}}]),a}(r.a.Component),T=t(13),D=t(15),q=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},errors:""},t.handleChange=function(e){var a=e.target,n=a.name,r=a.value,s=Object(D.a)({},t.state.data,Object(T.a)({},n,r));t.setState({data:s,error:""})},t.handleSubmit=function(){var e=Object(N.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(t.state.data),e.prev=2,e.next=5,w.a.post("/api/login/",t.state.data);case 5:n=e.sent,v.setToken(n.data.token),t.props.history.push("/articles"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data),t.setState({error:"Incorrect Credentials"});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{className:"column is-half is-offset-one-quarter",onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"title"},"Login"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",name:"email",placeholder:"email",required:!0,onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",name:"password",placeholder:"password",type:"password",required:!0,onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button is-fullwidth has-background-dark has-text-white"},"Login")))))))}}]),a}(r.a.Component),P=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:{password:"",password_confirmation:"",username:"",email:""},errors:{}},t.handleChange=function(e){var a=Object(D.a)({},t.state.data,Object(T.a)({},e.target.name,e.target.value));t.setState({data:a})},t.handleSubmit=function(){var e=Object(N.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("now"),a.preventDefault(),e.prev=2,e.next=5,w.a.post("/api/register/",t.state.data);case 5:t.props.history.push("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.setState({errors:e.t0.response.data.errors});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.data),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{className:"column is-half is-offset-one-quarter",onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"title"},"Register"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Username"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Username",required:!0,name:"username",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Email",required:!0,name:"email",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Password",required:!0,name:"password",type:"password",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password Confirmation"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Password Confirmation",required:!0,type:"password",name:"password_confirmation",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock-open"}))),this.state.errors.password_confirmation&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.password_confirmation)),r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button is-fullwidth has-background-dark has-text-white"},"Register Me"))))))}}]),a}(r.a.Component),L=t(37),W={common:{"X-CSRF-TOKEN":t.n(L).a.get("csrftoken")},headers:{Authorization:"Bearer ".concat(v.getToken())}},I=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={article:null,save:!1,text:"",articleOwner:"",username:"",data:{text:""}},t.handleSubmit=function(){var e=Object(N.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=t.props.match.params.id,e.prev=2,e.next=5,w.a.post("/api/articles/".concat(n,"/comments/"),t.state.data,W);case 5:return e.next=7,w.a.get("/api/articles/".concat(n));case 7:r=e.sent,t.setState({article:r.data}),t.setState({text:""}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(a){return e.apply(this,arguments)}}(),t.handleChange=function(e){var a=Object(D.a)({},t.state.data,Object(T.a)({},e.target.name,e.target.value));t.setState({data:a})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(E.a.mark((function e(){var a,t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,console.log(a),e.next=5,w.a.get("/api/articles/".concat(a));case 5:t=e.sent,this.setState({article:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state.article;if(!a)return null;var t=this.state.article.categories[0];return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("h1",{className:"title is-2"},a.title),r.a.createElement("h6",{className:"subtitle is-6"},"This article was written by ",a.owner.username),t&&r.a.createElement("h6",{className:"subtitle is-6"},"Categories: ",this.state.article.categories[0].category_name),r.a.createElement("p",null,a.text))),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Article Comments"),r.a.createElement("div",{className:"column"},this.state.article.comments.map((function(a){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("p",Object.assign({key:e.state.article.id},a),a.text," ")))}))))),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"text",required:!0,placeholder:"Share your thoughts!",onChange:this.handleChange,value:this.state.data.text})),r.a.createElement("button",{onClick:this.handleSubmit},"Submit Comment"))))))}}]),a}(r.a.Component),U=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:{title:"",text:"",category:""}},t.handleChange=function(e){var a=e.target.name,n=e.target.value,r=Object(D.a)({},t.state.data,Object(T.a)({},a,n));t.setState({data:r})},t.handleSubmit=function(){var e=Object(N.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,w.a.post("/api/articles/",t.state.data,W);case 4:n=e.sent,v.setToken(n.data.token),t.props.history.push("/articles"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.data),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box",id:"articleNewBox"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title"},"Write a new article"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Title"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"title",placeholder:"The title of this article..",onChange:this.handleChange,value:this.state.data.title}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Article"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"text",required:!0,placeholder:"Write article here",onChange:this.handleChange,value:this.state.data.text}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Category"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"category",required:!0,placeholder:"What is this article about?",onChange:this.handleChange,value:this.state.data.category}))),r.a.createElement("button",{type:"submit",className:"button is-fullwidth is-link"},"Publish!!"))))))}}]),a}(r.a.Component),B=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:{title:"",text:"",categories:""}},t.handleSubmit=Object(N.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,w.a.put("/api/articles/".concat(a,"/"),t.state.data,W);case 4:t.props.history.push("/articles"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t.handleChange=function(e){var a=Object(D.a)({},t.state.data,Object(T.a)({},e.target.name,e.target.value));t.setState({data:a})},t.handleDelete=Object(N.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,w.a.delete("/api/articles/".concat(a),t.state.data,W);case 4:t.props.history.push("/articles"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(E.a.mark((function e(){var a,t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,w.a.get("/api/articles/".concat(a));case 4:t=e.sent,this.setState({data:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title"},"Edit an Article"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Title"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"title",required:!0,placeholder:"Title",onChange:this.handleChange,value:this.state.data.title}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Text"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"text",required:!0,placeholder:"Text",onChange:this.handleChange,value:this.state.data.text}))),r.a.createElement("button",{onClick:this.handleSubmit},"Submit"),r.a.createElement("button",{onClick:this.handleDelete},"Delete Article")))}}]),a}(r.a.Component),F=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("main",null,r.a.createElement(j,null),r.a.createElement(d.d,null,r.a.createElement(b,{path:"/articles/new",component:U}),r.a.createElement(b,{path:"/articles/:id/edit",component:B}),r.a.createElement(d.b,{path:"/articles/:id",component:I}),r.a.createElement(d.b,{path:"/articles",component:y}),r.a.createElement(d.b,{path:"/about",component:A}),r.a.createElement(d.b,{path:"/login",component:q}),r.a.createElement(d.b,{path:"/register",component:P}),r.a.createElement(d.b,{exact:!0,path:"/",component:x}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.8d0e8d9a.chunk.js.map